\hypertarget{a00885}{}\doxysection{String\+Match\+::details\+::STree Class Reference}
\label{a00885}\index{StringMatch::details::STree@{StringMatch::details::STree}}


Compressed suffix tree Ukkonen\textquotesingle{}s algorithm.  




{\ttfamily \#include $<$Ukkonen.\+h$>$}



Collaboration diagram for String\+Match\+::details\+::STree\+:
% FIG 0
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{a00893}{Algo\+Pos}}
\item 
struct \mbox{\hyperlink{a00889}{STree\+Node}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{a00885_ae6a9517acbc3452388fded61039bed84}{STree}} (const std\+::string\+\_\+view \&ptext)
\item 
size\+\_\+t \mbox{\hyperlink{a00885_a7e7a62a9314218598864949074a35501}{find}} (const std\+::string \&pattern)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{a00885_a4ada1b74912366f01c9f298e426dc25c}{build\+\_\+tree}} ()
\item 
void \mbox{\hyperlink{a00885_a514f18f7445f5749eb5d861fae83f640}{finalize}} ()
\item 
long long \mbox{\hyperlink{a00885_a67c1cd8ad107a5d7855c9f29016ff252}{get\+\_\+link}} (long long v)
\item 
\mbox{\hyperlink{a00893}{Algo\+Pos}} \mbox{\hyperlink{a00885_a14ef5e18f124228cd901cac7a6b9e0f3}{go}} (\mbox{\hyperlink{a00893}{Algo\+Pos}} st, long long l, long long r)
\item 
void \mbox{\hyperlink{a00885_aea12bfe14baa0169ebf89773960e1fbd}{set\+Suffix\+Index\+By\+DFS}} (size\+\_\+t n, size\+\_\+t label\+Height)
\item 
size\+\_\+t \mbox{\hyperlink{a00885_a163d18dcc91683fb4a15c1c39d551bcb}{size}} ()
\item 
long long \mbox{\hyperlink{a00885_ac778513d57650439f0760887f1400033}{split}} (\mbox{\hyperlink{a00893}{Algo\+Pos}} st)
\item 
char \mbox{\hyperlink{a00885_a9bfc0629c543674dc05589fc389e366c}{text}} (size\+\_\+t pos)
\item 
void \mbox{\hyperlink{a00885_a24c85e65f714be5b07874a3d95fdf8a1}{tree\+\_\+extend}} (long long pos)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
vector$<$ \mbox{\hyperlink{a00889}{STree\+Node}} $>$ \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}
\item 
\mbox{\hyperlink{a00893}{Algo\+Pos}} \mbox{\hyperlink{a00885_af73ded0478b44e2e7c433fe620a813fa}{ptr}} = \{0, 0\}
\item 
const std\+::string\+\_\+view \mbox{\hyperlink{a00885_ae75e9c6507738d30f64e6c3253dedd4b}{text\+\_\+view}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static const char \mbox{\hyperlink{a00885_a74d8973558409942666815434c9cb1fb}{ender}} = \textquotesingle{}\textbackslash{}1\textquotesingle{}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Compressed suffix tree Ukkonen\textquotesingle{}s algorithm. 

Definition at line \mbox{\hyperlink{a00029_source_l00022}{22}} of file \mbox{\hyperlink{a00029_source}{Ukkonen.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{a00885_ae6a9517acbc3452388fded61039bed84}\label{a00885_ae6a9517acbc3452388fded61039bed84}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!STree@{STree}}
\index{STree@{STree}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{STree()}{STree()}}
{\footnotesize\ttfamily String\+Match\+::details\+::\+STree\+::\+STree (\begin{DoxyParamCaption}\item[{const std\+::string\+\_\+view \&}]{ptext }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Definition at line \mbox{\hyperlink{a00038_source_l00113}{113}} of file \mbox{\hyperlink{a00038_source}{Ukkonen.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00113                                             : \mbox{\hyperlink{a00885_ae75e9c6507738d30f64e6c3253dedd4b}{text\_view}}(ptext) \{}
\DoxyCodeLine{00114         \mbox{\hyperlink{a00885_a4ada1b74912366f01c9f298e426dc25c}{build\_tree}}();}
\DoxyCodeLine{00115         \mbox{\hyperlink{a00885_a514f18f7445f5749eb5d861fae83f640}{finalize}}();}
\DoxyCodeLine{00116     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00038_source_l00090}{build\+\_\+tree()}}, and \mbox{\hyperlink{a00038_source_l00109}{finalize()}}.

Here is the call graph for this function\+:
% FIG 1


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{a00885_a4ada1b74912366f01c9f298e426dc25c}\label{a00885_a4ada1b74912366f01c9f298e426dc25c}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!build\_tree@{build\_tree}}
\index{build\_tree@{build\_tree}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{build\_tree()}{build\_tree()}}
{\footnotesize\ttfamily void String\+Match\+::details\+::\+STree\+::build\+\_\+tree (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00038_source_l00090}{90}} of file \mbox{\hyperlink{a00038_source}{Ukkonen.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00090                            \{}
\DoxyCodeLine{00091         \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}.emplace\_back(0, 0, -\/1);}
\DoxyCodeLine{00092         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{long} \textcolor{keywordtype}{long} i = 0; i < \mbox{\hyperlink{a00885_a163d18dcc91683fb4a15c1c39d551bcb}{size}}(); ++i)}
\DoxyCodeLine{00093             \mbox{\hyperlink{a00885_a24c85e65f714be5b07874a3d95fdf8a1}{tree\_extend}}(i);}
\DoxyCodeLine{00094     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00029_source_l00069}{nodes}}, \mbox{\hyperlink{a00038_source_l00023}{size()}}, and \mbox{\hyperlink{a00038_source_l00072}{tree\+\_\+extend()}}.



Referenced by \mbox{\hyperlink{a00038_source_l00113}{STree()}}.

Here is the call graph for this function\+:
% FIG 2
Here is the caller graph for this function\+:
% FIG 3
\mbox{\Hypertarget{a00885_a514f18f7445f5749eb5d861fae83f640}\label{a00885_a514f18f7445f5749eb5d861fae83f640}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!finalize@{finalize}}
\index{finalize@{finalize}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{finalize()}{finalize()}}
{\footnotesize\ttfamily void String\+Match\+::details\+::\+STree\+::finalize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00038_source_l00109}{109}} of file \mbox{\hyperlink{a00038_source}{Ukkonen.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00109                          \{}
\DoxyCodeLine{00110         \mbox{\hyperlink{a00885_aea12bfe14baa0169ebf89773960e1fbd}{setSuffixIndexByDFS}}(0, 0);}
\DoxyCodeLine{00111     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00038_source_l00096}{set\+Suffix\+Index\+By\+DFS()}}.



Referenced by \mbox{\hyperlink{a00038_source_l00113}{STree()}}.

Here is the call graph for this function\+:
% FIG 4
Here is the caller graph for this function\+:
% FIG 5
\mbox{\Hypertarget{a00885_a7e7a62a9314218598864949074a35501}\label{a00885_a7e7a62a9314218598864949074a35501}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!find@{find}}
\index{find@{find}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{find()}{find()}}
{\footnotesize\ttfamily size\+\_\+t String\+Match\+::details\+::\+STree\+::find (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{pattern }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{a00038_source_l00118}{118}} of file \mbox{\hyperlink{a00038_source}{Ukkonen.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00118                                                \{}
\DoxyCodeLine{00119         AlgoPos st = \{0, 0\};}
\DoxyCodeLine{00120         \textcolor{keywordtype}{size\_t} l = 0;}
\DoxyCodeLine{00121         \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} r = pattern.size();}
\DoxyCodeLine{00122         \textcolor{keywordflow}{while} (l < pattern.size()) \{}
\DoxyCodeLine{00123             \textcolor{keywordflow}{if} (st.pos == \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].len()) \{}
\DoxyCodeLine{00124                 st = AlgoPos(\mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].get(pattern[l]), 0);}
\DoxyCodeLine{00125                 \textcolor{keywordflow}{if} (st.v == -\/1)}
\DoxyCodeLine{00126                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00127             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00128                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{a00885_a9bfc0629c543674dc05589fc389e366c}{text}}(\mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].start + st.pos) != pattern[l]) \{}
\DoxyCodeLine{00129                     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00130                 \}}
\DoxyCodeLine{00131                 \textcolor{keywordflow}{if} (r -\/ l < \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].len() -\/ st.pos) \{}
\DoxyCodeLine{00132                     st = AlgoPos(st.v, st.pos + r -\/ l);}
\DoxyCodeLine{00133                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00134                 \}}
\DoxyCodeLine{00135                 l += \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].len() -\/ st.pos;}
\DoxyCodeLine{00136                 st.pos = \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].len();}
\DoxyCodeLine{00137             \}}
\DoxyCodeLine{00138         \}}
\DoxyCodeLine{00139 }
\DoxyCodeLine{00140         \textcolor{keywordflow}{if} (st.v == -\/1)}
\DoxyCodeLine{00141             \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00142         \textcolor{keywordflow}{return} \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].suffixIndex;}
\DoxyCodeLine{00143     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00029_source_l00069}{nodes}}, \mbox{\hyperlink{a00029_source_l00045}{String\+Match\+::details\+::\+STree\+::\+Algo\+Pos\+::pos}}, \mbox{\hyperlink{a00038_source_l00027}{text()}}, and \mbox{\hyperlink{a00029_source_l00045}{String\+Match\+::details\+::\+STree\+::\+Algo\+Pos\+::v}}.



Referenced by \mbox{\hyperlink{a00014_source_l00011}{String\+Match\+::\+Single\+Searcher\+::get\+Entrances()}}.

Here is the call graph for this function\+:
% FIG 6
Here is the caller graph for this function\+:
% FIG 7
\mbox{\Hypertarget{a00885_a67c1cd8ad107a5d7855c9f29016ff252}\label{a00885_a67c1cd8ad107a5d7855c9f29016ff252}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!get\_link@{get\_link}}
\index{get\_link@{get\_link}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{get\_link()}{get\_link()}}
{\footnotesize\ttfamily long long String\+Match\+::details\+::\+STree\+::get\+\_\+link (\begin{DoxyParamCaption}\item[{long long}]{v }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00038_source_l00063}{63}} of file \mbox{\hyperlink{a00038_source}{Ukkonen.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00063                                              \{}
\DoxyCodeLine{00064         \textcolor{keywordflow}{if} (\mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[v].suffLink != -\/1) \textcolor{keywordflow}{return} \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[v].suffLink;}
\DoxyCodeLine{00065         \textcolor{keywordflow}{if} (\mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[v].parent == -\/1) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00066         \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} to = \mbox{\hyperlink{a00885_a67c1cd8ad107a5d7855c9f29016ff252}{get\_link}}(\mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[v].parent);}
\DoxyCodeLine{00067         \textcolor{keywordflow}{return} \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[v].suffLink = \mbox{\hyperlink{a00885_ac778513d57650439f0760887f1400033}{split}}(\mbox{\hyperlink{a00885_a14ef5e18f124228cd901cac7a6b9e0f3}{go}}(\{to, \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[to].len()\},}
\DoxyCodeLine{00068                                             \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[v].start + (\mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[v].parent == 0),}
\DoxyCodeLine{00069                                             \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[v].end));}
\DoxyCodeLine{00070     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00038_source_l00063}{get\+\_\+link()}}, \mbox{\hyperlink{a00038_source_l00032}{go()}}, \mbox{\hyperlink{a00029_source_l00069}{nodes}}, and \mbox{\hyperlink{a00038_source_l00048}{split()}}.



Referenced by \mbox{\hyperlink{a00038_source_l00063}{get\+\_\+link()}}, and \mbox{\hyperlink{a00038_source_l00072}{tree\+\_\+extend()}}.

Here is the call graph for this function\+:
% FIG 8
Here is the caller graph for this function\+:
% FIG 9
\mbox{\Hypertarget{a00885_a14ef5e18f124228cd901cac7a6b9e0f3}\label{a00885_a14ef5e18f124228cd901cac7a6b9e0f3}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!go@{go}}
\index{go@{go}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{go()}{go()}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00893}{STree\+::\+Algo\+Pos}} String\+Match\+::details\+::\+STree\+::go (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a00893}{Algo\+Pos}}}]{st,  }\item[{long long}]{l,  }\item[{long long}]{r }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00038_source_l00032}{32}} of file \mbox{\hyperlink{a00038_source}{Ukkonen.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00032                                                                \{}
\DoxyCodeLine{00033         \textcolor{keywordflow}{while} (l < r)}
\DoxyCodeLine{00034             \textcolor{keywordflow}{if} (st.pos == \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].len()) \{}
\DoxyCodeLine{00035                 st = AlgoPos(\mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].get(\mbox{\hyperlink{a00885_a9bfc0629c543674dc05589fc389e366c}{text}}(l)), 0);}
\DoxyCodeLine{00036                 \textcolor{keywordflow}{if} (st.v == -\/1) \textcolor{keywordflow}{return} st;}
\DoxyCodeLine{00037             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00038                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{a00885_a9bfc0629c543674dc05589fc389e366c}{text}}(\mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].start + st.pos) != \mbox{\hyperlink{a00885_a9bfc0629c543674dc05589fc389e366c}{text}}(l))}
\DoxyCodeLine{00039                     \textcolor{keywordflow}{return} AlgoPos(-\/1, -\/1);}
\DoxyCodeLine{00040                 \textcolor{keywordflow}{if} (r -\/ l < \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].len() -\/ st.pos)}
\DoxyCodeLine{00041                     \textcolor{keywordflow}{return} AlgoPos(st.v, st.pos + r -\/ l);}
\DoxyCodeLine{00042                 l += \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].len() -\/ st.pos;}
\DoxyCodeLine{00043                 st.pos = \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].len();}
\DoxyCodeLine{00044             \}}
\DoxyCodeLine{00045         \textcolor{keywordflow}{return} st;}
\DoxyCodeLine{00046     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00029_source_l00069}{nodes}}, \mbox{\hyperlink{a00029_source_l00045}{String\+Match\+::details\+::\+STree\+::\+Algo\+Pos\+::pos}}, \mbox{\hyperlink{a00038_source_l00027}{text()}}, and \mbox{\hyperlink{a00029_source_l00045}{String\+Match\+::details\+::\+STree\+::\+Algo\+Pos\+::v}}.



Referenced by \mbox{\hyperlink{a00038_source_l00063}{get\+\_\+link()}}, and \mbox{\hyperlink{a00038_source_l00072}{tree\+\_\+extend()}}.

Here is the call graph for this function\+:
% FIG 10
Here is the caller graph for this function\+:
% FIG 11
\mbox{\Hypertarget{a00885_aea12bfe14baa0169ebf89773960e1fbd}\label{a00885_aea12bfe14baa0169ebf89773960e1fbd}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!setSuffixIndexByDFS@{setSuffixIndexByDFS}}
\index{setSuffixIndexByDFS@{setSuffixIndexByDFS}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{setSuffixIndexByDFS()}{setSuffixIndexByDFS()}}
{\footnotesize\ttfamily void String\+Match\+::details\+::\+STree\+::set\+Suffix\+Index\+By\+DFS (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n,  }\item[{size\+\_\+t}]{label\+Height }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00038_source_l00096}{96}} of file \mbox{\hyperlink{a00038_source}{Ukkonen.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00096                                                                 \{}
\DoxyCodeLine{00097         \textcolor{keywordtype}{size\_t} minSuffLen = \mbox{\hyperlink{a00885_a163d18dcc91683fb4a15c1c39d551bcb}{size}}();}
\DoxyCodeLine{00098         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i: \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[n].next) \{}
\DoxyCodeLine{00099             \mbox{\hyperlink{a00885_aea12bfe14baa0169ebf89773960e1fbd}{setSuffixIndexByDFS}}(i.second, labelHeight + \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[i.second].len());}
\DoxyCodeLine{00100             minSuffLen = std::min(minSuffLen, (\textcolor{keywordtype}{size\_t}) \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[i.second].suffixIndex);}
\DoxyCodeLine{00101         \}}
\DoxyCodeLine{00102         \textcolor{keywordflow}{if} (\mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[n].next.empty())}
\DoxyCodeLine{00103             \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[n].suffixIndex = \mbox{\hyperlink{a00885_a163d18dcc91683fb4a15c1c39d551bcb}{size}}() -\/ labelHeight;}
\DoxyCodeLine{00104         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00105             \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[n].suffixIndex = minSuffLen;}
\DoxyCodeLine{00106         \}}
\DoxyCodeLine{00107     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00029_source_l00069}{nodes}}, \mbox{\hyperlink{a00038_source_l00096}{set\+Suffix\+Index\+By\+DFS()}}, and \mbox{\hyperlink{a00038_source_l00023}{size()}}.



Referenced by \mbox{\hyperlink{a00038_source_l00109}{finalize()}}, and \mbox{\hyperlink{a00038_source_l00096}{set\+Suffix\+Index\+By\+DFS()}}.

Here is the call graph for this function\+:
% FIG 12
Here is the caller graph for this function\+:
% FIG 13
\mbox{\Hypertarget{a00885_a163d18dcc91683fb4a15c1c39d551bcb}\label{a00885_a163d18dcc91683fb4a15c1c39d551bcb}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!size@{size}}
\index{size@{size}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily size\+\_\+t String\+Match\+::details\+::\+STree\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00038_source_l00023}{23}} of file \mbox{\hyperlink{a00038_source}{Ukkonen.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00023                        \{}
\DoxyCodeLine{00024         \textcolor{keywordflow}{return} \mbox{\hyperlink{a00885_ae75e9c6507738d30f64e6c3253dedd4b}{text\_view}}.size() + 1;}
\DoxyCodeLine{00025     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00029_source_l00070}{text\+\_\+view}}.



Referenced by \mbox{\hyperlink{a00038_source_l00090}{build\+\_\+tree()}}, \mbox{\hyperlink{a00038_source_l00096}{set\+Suffix\+Index\+By\+DFS()}}, and \mbox{\hyperlink{a00038_source_l00072}{tree\+\_\+extend()}}.

Here is the caller graph for this function\+:
% FIG 14
\mbox{\Hypertarget{a00885_ac778513d57650439f0760887f1400033}\label{a00885_ac778513d57650439f0760887f1400033}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!split@{split}}
\index{split@{split}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{split()}{split()}}
{\footnotesize\ttfamily long long String\+Match\+::details\+::\+STree\+::split (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a00893}{STree\+::\+Algo\+Pos}}}]{st }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00038_source_l00048}{48}} of file \mbox{\hyperlink{a00038_source}{Ukkonen.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00048                                           \{}
\DoxyCodeLine{00049         \textcolor{keywordflow}{if} (st.pos == \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].len())}
\DoxyCodeLine{00050             \textcolor{keywordflow}{return} st.v;}
\DoxyCodeLine{00051         \textcolor{keywordflow}{if} (st.pos == 0)}
\DoxyCodeLine{00052             \textcolor{keywordflow}{return} \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].parent;}
\DoxyCodeLine{00053         STreeNode v = \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v];}
\DoxyCodeLine{00054         \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{id} = \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}.size();}
\DoxyCodeLine{00055         \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}.emplace\_back(v.start, v.start + st.pos, v.parent);}
\DoxyCodeLine{00056         \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[v.parent].get(\mbox{\hyperlink{a00885_a9bfc0629c543674dc05589fc389e366c}{text}}(v.start)) = id;}
\DoxyCodeLine{00057         \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[id].get(\mbox{\hyperlink{a00885_a9bfc0629c543674dc05589fc389e366c}{text}}(v.start + st.pos)) = st.v;}
\DoxyCodeLine{00058         \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].parent = id;}
\DoxyCodeLine{00059         \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[st.v].start += st.pos;}
\DoxyCodeLine{00060         \textcolor{keywordflow}{return} id;}
\DoxyCodeLine{00061     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00029_source_l00069}{nodes}}, \mbox{\hyperlink{a00029_source_l00031}{String\+Match\+::details\+::\+STree\+::\+STree\+Node\+::parent}}, \mbox{\hyperlink{a00029_source_l00045}{String\+Match\+::details\+::\+STree\+::\+Algo\+Pos\+::pos}}, \mbox{\hyperlink{a00029_source_l00033}{String\+Match\+::details\+::\+STree\+::\+STree\+Node\+::start}}, \mbox{\hyperlink{a00038_source_l00027}{text()}}, and \mbox{\hyperlink{a00029_source_l00045}{String\+Match\+::details\+::\+STree\+::\+Algo\+Pos\+::v}}.



Referenced by \mbox{\hyperlink{a00038_source_l00063}{get\+\_\+link()}}, and \mbox{\hyperlink{a00038_source_l00072}{tree\+\_\+extend()}}.

Here is the call graph for this function\+:
% FIG 15
Here is the caller graph for this function\+:
% FIG 16
\mbox{\Hypertarget{a00885_a9bfc0629c543674dc05589fc389e366c}\label{a00885_a9bfc0629c543674dc05589fc389e366c}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!text@{text}}
\index{text@{text}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{text()}{text()}}
{\footnotesize\ttfamily char String\+Match\+::details\+::\+STree\+::text (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00038_source_l00027}{27}} of file \mbox{\hyperlink{a00038_source}{Ukkonen.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00027                                \{}
\DoxyCodeLine{00028         \textcolor{keywordflow}{return} pos == \mbox{\hyperlink{a00885_ae75e9c6507738d30f64e6c3253dedd4b}{text\_view}}.size() ? \mbox{\hyperlink{a00885_a74d8973558409942666815434c9cb1fb}{ender}} : \mbox{\hyperlink{a00885_ae75e9c6507738d30f64e6c3253dedd4b}{text\_view}}[pos];}
\DoxyCodeLine{00029     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00029_source_l00028}{ender}}, and \mbox{\hyperlink{a00029_source_l00070}{text\+\_\+view}}.



Referenced by \mbox{\hyperlink{a00038_source_l00118}{find()}}, \mbox{\hyperlink{a00038_source_l00032}{go()}}, \mbox{\hyperlink{a00038_source_l00048}{split()}}, and \mbox{\hyperlink{a00038_source_l00072}{tree\+\_\+extend()}}.

Here is the caller graph for this function\+:
% FIG 17
\mbox{\Hypertarget{a00885_a24c85e65f714be5b07874a3d95fdf8a1}\label{a00885_a24c85e65f714be5b07874a3d95fdf8a1}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!tree\_extend@{tree\_extend}}
\index{tree\_extend@{tree\_extend}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{tree\_extend()}{tree\_extend()}}
{\footnotesize\ttfamily void String\+Match\+::details\+::\+STree\+::tree\+\_\+extend (\begin{DoxyParamCaption}\item[{long long}]{pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00038_source_l00072}{72}} of file \mbox{\hyperlink{a00038_source}{Ukkonen.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00072                                              \{}
\DoxyCodeLine{00073         \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{00074             \textcolor{keyword}{auto} nptr = \mbox{\hyperlink{a00885_a14ef5e18f124228cd901cac7a6b9e0f3}{go}}(\mbox{\hyperlink{a00885_af73ded0478b44e2e7c433fe620a813fa}{ptr}}, pos, pos + 1);}
\DoxyCodeLine{00075             \textcolor{keywordflow}{if} (nptr.v != -\/1) \{}
\DoxyCodeLine{00076                 \mbox{\hyperlink{a00885_af73ded0478b44e2e7c433fe620a813fa}{ptr}} = nptr;}
\DoxyCodeLine{00077                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{00078             \}}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080             \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} mid = \mbox{\hyperlink{a00885_ac778513d57650439f0760887f1400033}{split}}(\mbox{\hyperlink{a00885_af73ded0478b44e2e7c433fe620a813fa}{ptr}});}
\DoxyCodeLine{00081             \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} leaf = \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}.size();}
\DoxyCodeLine{00082             \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}.emplace\_back(pos, \mbox{\hyperlink{a00885_a163d18dcc91683fb4a15c1c39d551bcb}{size}}(), mid);}
\DoxyCodeLine{00083             \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[mid].get(\mbox{\hyperlink{a00885_a9bfc0629c543674dc05589fc389e366c}{text}}(pos)) = leaf;}
\DoxyCodeLine{00084             \mbox{\hyperlink{a00885_af73ded0478b44e2e7c433fe620a813fa}{ptr}}.\mbox{\hyperlink{a00893_a8c922e2c0da28c407c0eb55d2118e807}{v}} = \mbox{\hyperlink{a00885_a67c1cd8ad107a5d7855c9f29016ff252}{get\_link}}(mid);}
\DoxyCodeLine{00085             \mbox{\hyperlink{a00885_af73ded0478b44e2e7c433fe620a813fa}{ptr}}.\mbox{\hyperlink{a00893_a2970e3bca83dfd2cb5ac902991a6ce33}{pos}} = \mbox{\hyperlink{a00885_a0b33e09e362f7f99617ec9815808e539}{nodes}}[\mbox{\hyperlink{a00885_af73ded0478b44e2e7c433fe620a813fa}{ptr}}.\mbox{\hyperlink{a00893_a8c922e2c0da28c407c0eb55d2118e807}{v}}].len();}
\DoxyCodeLine{00086             \textcolor{keywordflow}{if} (!mid) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00087         \}}
\DoxyCodeLine{00088     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00038_source_l00063}{get\+\_\+link()}}, \mbox{\hyperlink{a00038_source_l00032}{go()}}, \mbox{\hyperlink{a00029_source_l00069}{nodes}}, \mbox{\hyperlink{a00029_source_l00045}{String\+Match\+::details\+::\+STree\+::\+Algo\+Pos\+::pos}}, \mbox{\hyperlink{a00029_source_l00068}{ptr}}, \mbox{\hyperlink{a00038_source_l00023}{size()}}, \mbox{\hyperlink{a00038_source_l00048}{split()}}, \mbox{\hyperlink{a00038_source_l00027}{text()}}, and \mbox{\hyperlink{a00029_source_l00045}{String\+Match\+::details\+::\+STree\+::\+Algo\+Pos\+::v}}.



Referenced by \mbox{\hyperlink{a00038_source_l00090}{build\+\_\+tree()}}.

Here is the call graph for this function\+:
% FIG 18
Here is the caller graph for this function\+:
% FIG 19


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{a00885_a74d8973558409942666815434c9cb1fb}\label{a00885_a74d8973558409942666815434c9cb1fb}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!ender@{ender}}
\index{ender@{ender}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{ender}{ender}}
{\footnotesize\ttfamily const char String\+Match\+::details\+::\+STree\+::ender = \textquotesingle{}\textbackslash{}1\textquotesingle{}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00029_source_l00028}{28}} of file \mbox{\hyperlink{a00029_source}{Ukkonen.\+h}}.



Referenced by \mbox{\hyperlink{a00038_source_l00027}{text()}}.

\mbox{\Hypertarget{a00885_a0b33e09e362f7f99617ec9815808e539}\label{a00885_a0b33e09e362f7f99617ec9815808e539}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!nodes@{nodes}}
\index{nodes@{nodes}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{nodes}{nodes}}
{\footnotesize\ttfamily vector$<$\mbox{\hyperlink{a00889}{STree\+Node}}$>$ String\+Match\+::details\+::\+STree\+::nodes\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00029_source_l00069}{69}} of file \mbox{\hyperlink{a00029_source}{Ukkonen.\+h}}.



Referenced by \mbox{\hyperlink{a00038_source_l00090}{build\+\_\+tree()}}, \mbox{\hyperlink{a00038_source_l00118}{find()}}, \mbox{\hyperlink{a00038_source_l00063}{get\+\_\+link()}}, \mbox{\hyperlink{a00038_source_l00032}{go()}}, \mbox{\hyperlink{a00038_source_l00096}{set\+Suffix\+Index\+By\+DFS()}}, \mbox{\hyperlink{a00038_source_l00048}{split()}}, and \mbox{\hyperlink{a00038_source_l00072}{tree\+\_\+extend()}}.

\mbox{\Hypertarget{a00885_af73ded0478b44e2e7c433fe620a813fa}\label{a00885_af73ded0478b44e2e7c433fe620a813fa}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!ptr@{ptr}}
\index{ptr@{ptr}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{ptr}{ptr}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00893}{Algo\+Pos}} String\+Match\+::details\+::\+STree\+::ptr = \{0, 0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00029_source_l00068}{68}} of file \mbox{\hyperlink{a00029_source}{Ukkonen.\+h}}.



Referenced by \mbox{\hyperlink{a00038_source_l00072}{tree\+\_\+extend()}}.

\mbox{\Hypertarget{a00885_ae75e9c6507738d30f64e6c3253dedd4b}\label{a00885_ae75e9c6507738d30f64e6c3253dedd4b}} 
\index{StringMatch::details::STree@{StringMatch::details::STree}!text\_view@{text\_view}}
\index{text\_view@{text\_view}!StringMatch::details::STree@{StringMatch::details::STree}}
\doxysubsubsection{\texorpdfstring{text\_view}{text\_view}}
{\footnotesize\ttfamily const std\+::string\+\_\+view String\+Match\+::details\+::\+STree\+::text\+\_\+view\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00029_source_l00070}{70}} of file \mbox{\hyperlink{a00029_source}{Ukkonen.\+h}}.



Referenced by \mbox{\hyperlink{a00038_source_l00023}{size()}}, and \mbox{\hyperlink{a00038_source_l00027}{text()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/core/details/\mbox{\hyperlink{a00029}{Ukkonen.\+h}}\item 
src/core/details/\mbox{\hyperlink{a00038}{Ukkonen.\+cpp}}\end{DoxyCompactItemize}
