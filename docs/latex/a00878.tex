\hypertarget{a00878}{}\doxysection{String\+Match\+::Large\+Matcher Class Reference}
\label{a00878}\index{StringMatch::LargeMatcher@{StringMatch::LargeMatcher}}


Find occurances in file without loading the whole file into the memory.  




{\ttfamily \#include $<$Large\+Matcher.\+h$>$}



Inheritance diagram for String\+Match\+::Large\+Matcher\+:
% FIG 0


Collaboration diagram for String\+Match\+::Large\+Matcher\+:
% FIG 1
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{a00878_a7d0656db118730a00cc8b69b8a1a3ece}{Large\+Matcher}} (std\+::ifstream \mbox{\hyperlink{a00878_ae5c0f1ac4f206ce9de8ec2728cb901ba}{file}}, bool \mbox{\hyperlink{a00878_acdcbb884d5fe8477fff35f9d2c43d737}{single}}, size\+\_\+t \mbox{\hyperlink{a00878_ab96cd70e1ec93d878bda9f2d95286fc4}{buffer\+Size}}=1024 $\ast$1024 $\ast$100)
\item 
\mbox{\hyperlink{a00878_ab38d1d1108017ca1710d49d55e55c9ce}{$\sim$\+Large\+Matcher}} () override
\item 
std\+::vector$<$ size\+\_\+t $>$ \mbox{\hyperlink{a00878_a23c48758e7997fa39fcc22cc72f9d444}{get\+Entrances}} (const std\+::string \&pattern) override
\begin{DoxyCompactList}\small\item\em Complexity\+: O($\vert$text$\vert$) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const size\+\_\+t \mbox{\hyperlink{a00878_ab96cd70e1ec93d878bda9f2d95286fc4}{buffer\+Size}}
\item 
std\+::ifstream \mbox{\hyperlink{a00878_ae5c0f1ac4f206ce9de8ec2728cb901ba}{file}}
\item 
bool \mbox{\hyperlink{a00878_acdcbb884d5fe8477fff35f9d2c43d737}{single}}
\item 
size\+\_\+t \mbox{\hyperlink{a00878_a577e3485cdc420e2de518c745c45d8c7}{size}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Find occurances in file without loading the whole file into the memory. 

Definition at line \mbox{\hyperlink{a00005_source_l00012}{12}} of file \mbox{\hyperlink{a00005_source}{Large\+Matcher.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{a00878_a7d0656db118730a00cc8b69b8a1a3ece}\label{a00878_a7d0656db118730a00cc8b69b8a1a3ece}} 
\index{StringMatch::LargeMatcher@{StringMatch::LargeMatcher}!LargeMatcher@{LargeMatcher}}
\index{LargeMatcher@{LargeMatcher}!StringMatch::LargeMatcher@{StringMatch::LargeMatcher}}
\doxysubsubsection{\texorpdfstring{LargeMatcher()}{LargeMatcher()}}
{\footnotesize\ttfamily String\+Match\+::\+Large\+Matcher\+::\+Large\+Matcher (\begin{DoxyParamCaption}\item[{std\+::ifstream}]{file,  }\item[{bool}]{single,  }\item[{size\+\_\+t}]{buffer\+Size = {\ttfamily 1024~$\ast$~1024~$\ast$~100} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyParams}{Parameters}
{\em file} & file to search string in \\
\hline
{\em single} & is first occurance \\
\hline
{\em buffer\+Size} & size of buffer \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{a00011_source_l00009}{9}} of file \mbox{\hyperlink{a00011_source}{Large\+Matcher.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00010             : \mbox{\hyperlink{a00878_ae5c0f1ac4f206ce9de8ec2728cb901ba}{file}}(std::move(pfile)), \mbox{\hyperlink{a00878_acdcbb884d5fe8477fff35f9d2c43d737}{single}}(\mbox{\hyperlink{a00878_acdcbb884d5fe8477fff35f9d2c43d737}{single}}), \mbox{\hyperlink{a00878_ab96cd70e1ec93d878bda9f2d95286fc4}{bufferSize}}(\mbox{\hyperlink{a00878_ab96cd70e1ec93d878bda9f2d95286fc4}{bufferSize}}) \{}
\DoxyCodeLine{00011         \mbox{\hyperlink{a00878_ae5c0f1ac4f206ce9de8ec2728cb901ba}{file}}.seekg(0, std::ios::beg);}
\DoxyCodeLine{00012         \mbox{\hyperlink{a00878_ae5c0f1ac4f206ce9de8ec2728cb901ba}{file}}.seekg(0, std::ios::end);}
\DoxyCodeLine{00013         \mbox{\hyperlink{a00878_a577e3485cdc420e2de518c745c45d8c7}{size}} = \mbox{\hyperlink{a00878_ae5c0f1ac4f206ce9de8ec2728cb901ba}{file}}.tellg();}
\DoxyCodeLine{00014     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00005_source_l00033}{file}}, and \mbox{\hyperlink{a00005_source_l00035}{size}}.

\mbox{\Hypertarget{a00878_ab38d1d1108017ca1710d49d55e55c9ce}\label{a00878_ab38d1d1108017ca1710d49d55e55c9ce}} 
\index{StringMatch::LargeMatcher@{StringMatch::LargeMatcher}!````~LargeMatcher@{$\sim$LargeMatcher}}
\index{````~LargeMatcher@{$\sim$LargeMatcher}!StringMatch::LargeMatcher@{StringMatch::LargeMatcher}}
\doxysubsubsection{\texorpdfstring{$\sim$LargeMatcher()}{~LargeMatcher()}}
{\footnotesize\ttfamily String\+Match\+::\+Large\+Matcher\+::$\sim$\+Large\+Matcher (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Definition at line \mbox{\hyperlink{a00011_source_l00046}{46}} of file \mbox{\hyperlink{a00011_source}{Large\+Matcher.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00046                                 \{}
\DoxyCodeLine{00047         \mbox{\hyperlink{a00878_ae5c0f1ac4f206ce9de8ec2728cb901ba}{file}}.close();}
\DoxyCodeLine{00048     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00005_source_l00033}{file}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{a00878_a23c48758e7997fa39fcc22cc72f9d444}\label{a00878_a23c48758e7997fa39fcc22cc72f9d444}} 
\index{StringMatch::LargeMatcher@{StringMatch::LargeMatcher}!getEntrances@{getEntrances}}
\index{getEntrances@{getEntrances}!StringMatch::LargeMatcher@{StringMatch::LargeMatcher}}
\doxysubsubsection{\texorpdfstring{getEntrances()}{getEntrances()}}
{\footnotesize\ttfamily std\+::vector$<$ size\+\_\+t $>$ String\+Match\+::\+Large\+Matcher\+::get\+Entrances (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{pattern }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Complexity\+: O($\vert$text$\vert$) 


\begin{DoxyParams}{Parameters}
{\em pattern} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}


Implements \mbox{\hyperlink{a01058_a94fb8fd79594c34846a0755174df1e80}{String\+Match\+::\+Matcher\+Interface}}.



Definition at line \mbox{\hyperlink{a00011_source_l00016}{16}} of file \mbox{\hyperlink{a00011_source}{Large\+Matcher.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00016                                                                          \{}
\DoxyCodeLine{00017         std::vector<size\_t> entrances;}
\DoxyCodeLine{00018 }
\DoxyCodeLine{00019         \textcolor{keyword}{auto} bufferActualSize = std::max(\mbox{\hyperlink{a00878_ab96cd70e1ec93d878bda9f2d95286fc4}{bufferSize}}, pattern.size() * 2);}
\DoxyCodeLine{00020         std::string buffer(bufferActualSize + 1, \textcolor{charliteral}{'\(\backslash\)0'});}
\DoxyCodeLine{00021 }
\DoxyCodeLine{00022         \textcolor{keywordtype}{size\_t} globalPos = 0;}
\DoxyCodeLine{00023         \textcolor{keywordflow}{while} (globalPos + pattern.size() <= \mbox{\hyperlink{a00878_a577e3485cdc420e2de518c745c45d8c7}{size}}) \{}
\DoxyCodeLine{00024             \textcolor{keywordtype}{size\_t} pos = 0;}
\DoxyCodeLine{00025             \textcolor{keyword}{auto} stepSize = std::min(\mbox{\hyperlink{a00878_a577e3485cdc420e2de518c745c45d8c7}{size}} -\/ globalPos, bufferActualSize);}
\DoxyCodeLine{00026 }
\DoxyCodeLine{00027             \mbox{\hyperlink{a00878_ae5c0f1ac4f206ce9de8ec2728cb901ba}{file}}.seekg(globalPos);}
\DoxyCodeLine{00028             \mbox{\hyperlink{a00878_ae5c0f1ac4f206ce9de8ec2728cb901ba}{file}}.read(\&buffer[0], stepSize);}
\DoxyCodeLine{00029             buffer[stepSize] = 0;}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031             std::string\_view batch(\&buffer[pos]);}
\DoxyCodeLine{00032 }
\DoxyCodeLine{00033             StringMatcher matcher(batch, \textcolor{keyword}{false});}
\DoxyCodeLine{00034             \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} entry: matcher.getEntrances(pattern)) \{}
\DoxyCodeLine{00035                 entrances.push\_back(entry + globalPos);}
\DoxyCodeLine{00036                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{a00878_acdcbb884d5fe8477fff35f9d2c43d737}{single}}) \{}
\DoxyCodeLine{00037                     \textcolor{keywordflow}{return} entrances;}
\DoxyCodeLine{00038                 \}}
\DoxyCodeLine{00039             \}}
\DoxyCodeLine{00040             globalPos += stepSize -\/ pattern.size() + 1;}
\DoxyCodeLine{00041         \}}
\DoxyCodeLine{00042 }
\DoxyCodeLine{00043         \textcolor{keywordflow}{return} entrances;}
\DoxyCodeLine{00044     \}}

\end{DoxyCode}


References \mbox{\hyperlink{a00005_source_l00029}{buffer\+Size}}, \mbox{\hyperlink{a00005_source_l00033}{file}}, \mbox{\hyperlink{a00044_source_l00018}{String\+Match\+::\+String\+Matcher\+::get\+Entrances()}}, \mbox{\hyperlink{a00005_source_l00034}{single}}, and \mbox{\hyperlink{a00005_source_l00035}{size}}.

Here is the call graph for this function\+:
% FIG 2


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{a00878_ab96cd70e1ec93d878bda9f2d95286fc4}\label{a00878_ab96cd70e1ec93d878bda9f2d95286fc4}} 
\index{StringMatch::LargeMatcher@{StringMatch::LargeMatcher}!bufferSize@{bufferSize}}
\index{bufferSize@{bufferSize}!StringMatch::LargeMatcher@{StringMatch::LargeMatcher}}
\doxysubsubsection{\texorpdfstring{bufferSize}{bufferSize}}
{\footnotesize\ttfamily const size\+\_\+t String\+Match\+::\+Large\+Matcher\+::buffer\+Size\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00005_source_l00032}{32}} of file \mbox{\hyperlink{a00005_source}{Large\+Matcher.\+h}}.



Referenced by \mbox{\hyperlink{a00011_source_l00016}{get\+Entrances()}}.

\mbox{\Hypertarget{a00878_ae5c0f1ac4f206ce9de8ec2728cb901ba}\label{a00878_ae5c0f1ac4f206ce9de8ec2728cb901ba}} 
\index{StringMatch::LargeMatcher@{StringMatch::LargeMatcher}!file@{file}}
\index{file@{file}!StringMatch::LargeMatcher@{StringMatch::LargeMatcher}}
\doxysubsubsection{\texorpdfstring{file}{file}}
{\footnotesize\ttfamily std\+::ifstream String\+Match\+::\+Large\+Matcher\+::file\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00005_source_l00033}{33}} of file \mbox{\hyperlink{a00005_source}{Large\+Matcher.\+h}}.



Referenced by \mbox{\hyperlink{a00011_source_l00009}{Large\+Matcher()}}, \mbox{\hyperlink{a00011_source_l00046}{$\sim$\+Large\+Matcher()}}, and \mbox{\hyperlink{a00011_source_l00016}{get\+Entrances()}}.

\mbox{\Hypertarget{a00878_acdcbb884d5fe8477fff35f9d2c43d737}\label{a00878_acdcbb884d5fe8477fff35f9d2c43d737}} 
\index{StringMatch::LargeMatcher@{StringMatch::LargeMatcher}!single@{single}}
\index{single@{single}!StringMatch::LargeMatcher@{StringMatch::LargeMatcher}}
\doxysubsubsection{\texorpdfstring{single}{single}}
{\footnotesize\ttfamily bool String\+Match\+::\+Large\+Matcher\+::single\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00005_source_l00034}{34}} of file \mbox{\hyperlink{a00005_source}{Large\+Matcher.\+h}}.



Referenced by \mbox{\hyperlink{a00011_source_l00016}{get\+Entrances()}}.

\mbox{\Hypertarget{a00878_a577e3485cdc420e2de518c745c45d8c7}\label{a00878_a577e3485cdc420e2de518c745c45d8c7}} 
\index{StringMatch::LargeMatcher@{StringMatch::LargeMatcher}!size@{size}}
\index{size@{size}!StringMatch::LargeMatcher@{StringMatch::LargeMatcher}}
\doxysubsubsection{\texorpdfstring{size}{size}}
{\footnotesize\ttfamily size\+\_\+t String\+Match\+::\+Large\+Matcher\+::size\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{a00005_source_l00035}{35}} of file \mbox{\hyperlink{a00005_source}{Large\+Matcher.\+h}}.



Referenced by \mbox{\hyperlink{a00011_source_l00009}{Large\+Matcher()}}, and \mbox{\hyperlink{a00011_source_l00016}{get\+Entrances()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/core/algo/\mbox{\hyperlink{a00005}{Large\+Matcher.\+h}}\item 
src/core/algo/\mbox{\hyperlink{a00011}{Large\+Matcher.\+cpp}}\end{DoxyCompactItemize}
